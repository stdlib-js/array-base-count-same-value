{"version":3,"file":"index.mjs","sources":["../lib/main.js"],"sourcesContent":["/**\n* @license Apache-2.0\n*\n* Copyright (c) 2024 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nimport isComplexLike from '@stdlib/assert-is-complex-like';\nimport real from '@stdlib/complex-real';\nimport imag from '@stdlib/complex-imag';\nimport reinterpret from '@stdlib/strided-base-reinterpret-complex';\nimport isComplexTypedArray from '@stdlib/array-base-assert-is-complex-typed-array';\nimport isAccessorArray from '@stdlib/array-base-assert-is-accessor-array';\nimport resolveGetter from '@stdlib/array-base-resolve-getter';\nimport isSameValue from '@stdlib/assert-is-same-value';\n\n\n// FUNCTIONS //\n\n/**\n* Counts the number of elements that are equal to a given value in an indexed array.\n*\n* @private\n* @param {Collection} x - input array\n* @param {*} value - given value\n* @returns {NonNegativeInteger} number of elements that are equal to the given value\n*\n* @example\n* var x = [ 0, 1, 0, 1 ];\n*\n* var n = indexed( x, 1 );\n* // returns 2\n*/\nfunction indexed( x, value ) {\n\tvar n;\n\tvar i;\n\n\tn = 0;\n\tfor ( i = 0; i < x.length; i++ ) {\n\t\tif ( isSameValue( x[ i ], value ) ) {\n\t\t\tn += 1;\n\t\t}\n\t}\n\treturn n;\n}\n\n/**\n* Counts the number of elements that are equal to a given value in an accessor array.\n*\n* @private\n* @param {Collection} x - input array\n* @param {*} value - given value\n* @returns {NonNegativeInteger} number of elements that are equal to the given value\n*\n* @example\n* import toAccessorArray from '@stdlib/array-base-to-accessor-array';\n*\n* var x = toAccessorArray( [ 0, 1, 0, 1 ] );\n*\n* var n = accessors( x, 1 );\n* // returns 2\n*/\nfunction accessors( x, value ) {\n\tvar get;\n\tvar n;\n\tvar i;\n\n\tget = resolveGetter( x );\n\n\tn = 0;\n\tfor ( i = 0; i < x.length; i++ ) {\n\t\tif ( isSameValue( get( x, i ), value ) ) {\n\t\t\tn += 1;\n\t\t}\n\t}\n\treturn n;\n}\n\n/**\n* Counts the number of elements that are equal to a given value in a complex array.\n*\n* @private\n* @param {Collection} x - input array\n* @param {*} value - given value\n* @returns {NonNegativeInteger} number of elements that are equal to the given value\n*\n* @example\n* import Complex128 from '@stdlib/complex-float64';\n* import Complex128Array from '@stdlib/array-complex128';\n*\n* var x = new Complex128Array( [ 1.0, 2.0, 0.0, 0.0, 3.0, 4.0, 0.0, 0.0 ] );\n*\n* var n = complex( x, new Complex128( 1.0, 2.0 ) );\n* // returns 1\n*/\nfunction complex( x, value ) {\n\tvar view;\n\tvar re;\n\tvar im;\n\tvar n;\n\tvar i;\n\n\tif ( !isComplexLike( value ) ) {\n\t\treturn 0;\n\t}\n\n\tre = real( value );\n\tim = imag( value );\n\n\tview = reinterpret( x, 0 );\n\n\tn = 0;\n\tfor ( i = 0; i < view.length; i += 2 ) {\n\t\tif ( isSameValue( view[ i ], re ) && isSameValue( view[ i + 1 ], im ) ) {\n\t\t\tn += 1;\n\t\t}\n\t}\n\treturn n;\n}\n\n\n// MAIN //\n\n/**\n* Counts the number of elements that are equal to a given value in an array.\n*\n* @param {Collection} x - input array\n* @param {*} value - given value\n* @returns {NonNegativeInteger} number of elements that are equal to the given value\n*\n* @example\n* var x = [ 0, 1, 0, 1, 1 ];\n*\n* var n = countSameValue( x, 1 );\n* // returns 3\n*/\nfunction countSameValue( x, value ) {\n\tif ( isAccessorArray( x, value ) ) {\n\t\tif ( isComplexTypedArray( x, value ) ) {\n\t\t\treturn complex( x, value );\n\t\t}\n\t\treturn accessors( x, value );\n\t}\n\treturn indexed( x, value );\n}\n\n\n// EXPORTS //\n\nexport default countSameValue;\n"],"names":["countSameValue","x","value","isAccessorArray","isComplexTypedArray","view","re","im","n","i","isComplexLike","real","imag","reinterpret","length","isSameValue","complex","get","resolveGetter","accessors","indexed"],"mappings":";;8xBAuJA,SAASA,EAAgBC,EAAGC,GAC3B,OAAKC,EAAiBF,EAAGC,GACnBE,EAAqBH,EAAGC,GA3C/B,SAAkBD,EAAGC,GACpB,IAAIG,EACAC,EACAC,EACAC,EACAC,EAEJ,IAAMC,EAAeR,GACpB,OAAO,EASR,IANAI,EAAKK,EAAMT,GACXK,EAAKK,EAAMV,GAEXG,EAAOQ,EAAaZ,EAAG,GAEvBO,EAAI,EACEC,EAAI,EAAGA,EAAIJ,EAAKS,OAAQL,GAAK,EAC7BM,EAAaV,EAAMI,GAAKH,IAAQS,EAAaV,EAAMI,EAAI,GAAKF,KAChEC,GAAK,GAGP,OAAOA,CACR,CAqBUQ,CAASf,EAAGC,GA7EtB,SAAoBD,EAAGC,GACtB,IAAIe,EACAT,EACAC,EAKJ,IAHAQ,EAAMC,EAAejB,GAErBO,EAAI,EACEC,EAAI,EAAGA,EAAIR,EAAEa,OAAQL,IACrBM,EAAaE,EAAKhB,EAAGQ,GAAKP,KAC9BM,GAAK,GAGP,OAAOA,CACR,CAiESW,CAAWlB,EAAGC,GA5GvB,SAAkBD,EAAGC,GACpB,IAAIM,EACAC,EAGJ,IADAD,EAAI,EACEC,EAAI,EAAGA,EAAIR,EAAEa,OAAQL,IACrBM,EAAad,EAAGQ,GAAKP,KACzBM,GAAK,GAGP,OAAOA,CACR,CAmGQY,CAASnB,EAAGC,EACpB"}